{"remainingRequest":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\src\\components\\ContextualTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\src\\components\\ContextualTab.vue","mtime":1553858370899},{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1553758599887},{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\babel-loader\\lib\\index.js","mtime":1553758599538},{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1553758612110},{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1553758599887},{"path":"C:\\kalibrr\\experimental\\labeler\\vuetify-tabs\\node_modules\\vue-loader\\lib\\index.js","mtime":1553758611895}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mainHighlighter } from \"@/assets/js/highlight.js\";\r\nimport axios from \"axios\";\r\nimport md5 from \"md5\";\r\nimport { backendHost } from \"@/assets/js/backend.js\";\r\n\r\nexport default {\r\n  props: {\r\n    contents: Array,\r\n    file: String\r\n  },\r\n  mounted() {\r\n    fetch(backendHost + \"/label\")\r\n      .then(response => response.json())\r\n      //.then(data => console.log(JSON.stringify(data)))\r\n      .then(data => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (data[i].type == \"contextual\") {\r\n            this.chips.push(data[i].label);\r\n          }\r\n        }\r\n      });\r\n  },\r\n  updated() {\r\n    mainHighlighter();\r\n  },\r\n  data() {\r\n    return {\r\n      show: true,\r\n      finalContents: this.contents,\r\n      index: 0,\r\n      indexer: 0,\r\n      tempdata: null,\r\n      tempstring: \"\",\r\n      actualContent: [],\r\n      chips: [],\r\n      items: [\"Streaming\", \"Eating\"],\r\n      selected: [\"John\"],\r\n      counter: 0\r\n    };\r\n  },\r\n  // watch: {\r\n  //   contents(val) {\r\n  //     this.finalContents = val;\r\n  //     this.updateComponent();\r\n  //   }\r\n  // },\r\n  watch: {\r\n    contents: {\r\n      immediate: true,\r\n      handler: function() {\r\n        this.index = 0;\r\n        this.actualContent = [];\r\n        this.parser(this.contents, \"$\");\r\n        this.updateComponent();\r\n      }\r\n    },\r\n    actualContent: function() {\r\n      for (let i = 0; i < this.actualContent.length; i++) {\r\n        axios.post(backendHost + \"/content\", {\r\n          _id: md5(this.actualContent[i]),\r\n          content: this.actualContent[i],\r\n          file_id: this.file\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateComponent() {\r\n      var self = this;\r\n      self.show = false;\r\n      this.$nextTick(function() {\r\n        self.show = true;\r\n      });\r\n    },\r\n    remove(item) {\r\n      this.chips.splice(this.chips.indexOf(item), 1);\r\n      this.chips = [...this.chips];\r\n    },\r\n    parser(data, delimiter) {\r\n      this.actualContent = data.split(delimiter);\r\n    },\r\n    submitData() {\r\n      this.index += 1;\r\n      if (this.index === this.actualContent.length - 1) {\r\n        alert(\"Reached end of file\");\r\n        return;\r\n      }\r\n    },\r\n    insertLabel() {\r\n      axios.post(backendHost + \"/label\", {\r\n        label: this.chips[this.chips.length - 1],\r\n        type: \"contextual\"\r\n      });\r\n    },\r\n    getIndex(str, event) {\r\n      //alert(str);\r\n      this.tempdata = event.target.toString();\r\n      //this.indexer = str.indexOf(event.target);\r\n    },\r\n    alertMe(item) {\r\n      //alert(\"hi\" + item + this.counter);\r\n      fetch(backendHost + \"/label\")\r\n        .then(response => response.json())\r\n        //.then(data => console.log(JSON.stringify(data)))\r\n        .then(data => {\r\n          for (let i = 0; i < data.length; i++) {\r\n            if (data[i].type == \"contextual\") {\r\n              if (data[i].label === item) {\r\n                //this.myVarString = data[i].label;\r\n                axios.delete(backendHost + \"/label/\" + data[i]._id);\r\n                //this.myVarId = data[i]._id;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      // .then(\r\n      //   setTimeout(function() {\r\n      //     axios.delete(\"http://localhost:8081/label\" + this.myVarId);\r\n      //     alert(\"succes\");\r\n      //   }, 500)\r\n      // );\r\n    },\r\n    getString(currentLabel) {\r\n      setTimeout(function() {\r\n        fetch(backendHost + \"/text\")\r\n          .then(response => response.json())\r\n          //.then(data => console.log(JSON.stringify(data)))\r\n          .then(data => (this.tempstring = data[data.length - 1].text));\r\n      }, 100);\r\n      setTimeout(function() {\r\n        axios.post(backendHost + \"/labeledcontent\", {\r\n          label: currentLabel,\r\n          type: \"contextual\",\r\n          file_id: this.file,\r\n          content_id: md5(this.tempstring)\r\n        });\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["ContextualTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ContextualTab.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n  <div id=\"main\">\r\n    <v-combobox\r\n      v-model=\"chips\"\r\n      :items=\"items\"\r\n      label=\"List of Categories\"\r\n      chips\r\n      clearable\r\n      prepend-icon=\"add\"\r\n      solo\r\n      multiple\r\n      @input=\"insertLabel(), updateComponent()\"\r\n    >\r\n      <template slot=\"selection\" slot-scope=\"data\">\r\n        <v-chip\r\n          :selected=\"data.selected\"\r\n          close\r\n          @input=\"remove(data.item), alertMe(data.item), updateComponent()\"\r\n        >\r\n          <v-avatar class=\"grey darken-3 white--text\" v-text=\"(data.index)+1\"></v-avatar>\r\n          <strong>{{ data.item }}</strong>&nbsp;\r\n          <!-- <span>(interest)</span> -->\r\n        </v-chip>\r\n      </template>\r\n    </v-combobox>\r\n\r\n    <section\r\n      v-if=\"show\"\r\n      class=\"dataspace\"\r\n      v-html=\"actualContent[index]\"\r\n      style=\"font-size: 2.5em;\"\r\n      @click=\"getIndex(actualContent[index], $event)\"\r\n    ></section>\r\n\r\n    <div id=\"highlight_menu\" style=\"display:none;\">\r\n      <ul class=\"side-by-side\">\r\n        <li v-for=\"(data, index) in chips\" :key=\"data\" @click=\"getString(data)\">\r\n          <a href=\"#\" :title=\"data\" style=\"text-decoration: none !important; color: white\">\r\n            <!-- <img :src=\"icons[index]\"> -->\r\n            <span id=\"index_num\">{{(index)+1}}</span>\r\n          </a>\r\n        </li>\r\n        <!-- \r\n        <li id=\"first-menu\">\r\n          <a href=\"#\" title=\"Skill\" class=\"menuItem\" @click=\"getString\">\r\n            <img\r\n              src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNMjU2LDBDMTE0LjYwOSwwLDAsMTE0LjYwOSwwLDI1NmMwLDE0MS4zOTEsMTE0LjYwOSwyNTYsMjU2LDI1NmMxNDEuMzkxLDAsMjU2LTExNC42MDksMjU2LTI1NiAgIEM1MTIsMTE0LjYwOSwzOTcuMzkxLDAsMjU2LDB6IE0yNTYsNDcyYy0xMTkuMjk3LDAtMjE2LTk2LjcwMy0yMTYtMjE2UzEzNi43MDMsNDAsMjU2LDQwczIxNiw5Ni43MDMsMjE2LDIxNlMzNzUuMjk3LDQ3MiwyNTYsNDcyeiAgICIgZmlsbD0iIzAwMDAwMCIvPgoJPGc+CgkJPHBhdGggZD0iTTI0OS43MDMsMjAxLjI1SDE4OHYtMjVoMTkuMzEyYzYuODU5LDAsMTMuNDIyLTEuMjE5LDE5LjUtMy41OTRjNi4xNzItMi4zNzUsMTEuNDM4LTUuNjQxLDE1Ljc5Ny05Ljc5NyAgICBjNC4zNTgtNC4yMDMsNy45MjItOS4yNSwxMC41NDctMTUuMjM0YzIuNzM0LTUuOTA2LDQuMDQ3LTEyLjUsNC4wNDctMTkuNjI1SDI4NHYyNTZoLTM0LjI5N1YyMDEuMjV6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==\"\r\n            >\r\n          </a>\r\n        </li>\r\n        <li id=\"second-menu\">\r\n          <a href=\"#\" title=\"Location\">\r\n            <img\r\n              src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACQUlEQVRIS52VSajIURTGfy8lylAWpqRQ5lKKkISQKFZIIQllKcVKxIqFpWRMJMOKooTIEElJGZMsCFlYIKRE3+u7r/tud3g5m///3vOd853h3nM7aMsCYBUwGxhh+HvgLnAOuF5z0VFRjgGOAnMbMdwENgFvcrgSgaK9CAxqJ9iJ+AIsd1bdTHIEivxh5PyvMzkOPLP1JGADsBEIPkQyPc0kR6CUQ1k+AGsA7eVkHnAaGG6lcPNjYEqghl4zQJELfKtRJpHciDJZGDc+JTjitOVT/5vtvDewF1jr9SlgJ/Db68NudGrXVb8Q5AtgvBczgQf+3wdsTzLZD+zw3gzgvv9fAhMCNs3gG9DPygGA1hL1YlhC8DGqfX/gq/WykW2npAQCCSzR9/t/EMjHwBLB8yi9scDrHpZI2FfGyoeOcTaDq8Ai61YDZ/3farKwZ4yVj8Ulgl3AbitP+DIlpc8uhV1vjXzsKREotadW/gRGA58aDEOBt0Af4+RDZcqWSJsaBxOtPwBsaxAIszVXf+3lRsU64KQNfgCjgM8FkiGOvq/1stUl7JIcQS9nMc6oC8DKAsF5YIV1umCTgT8tAumXAJcj4BbgUEKivYPR3lLgShpI7cGJT8YvYBbw2A6mAveixhZPXI1A113zJTRcfZhjgtvA4KixmlthVHRLokYg4EiThHmvt1gS3mbNKA26d6WT1iKQ3RTgTjSjgi9FrIye1I5xTwhkr0flUjRpNQSXVV666jEtBTQNOGal3uNHtciD7h/GiXIZGZ8PmgAAAABJRU5ErkJggg==\"\r\n            >\r\n          </a>\r\n        -->\r\n      </ul>\r\n\r\n      <div class=\"caret\"></div>\r\n    </div>\r\n    <v-btn id=\"btn\" class=\"success\" @click=\"submitData(), updateComponent()\">Next</v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mainHighlighter } from \"@/assets/js/highlight.js\";\r\nimport axios from \"axios\";\r\nimport md5 from \"md5\";\r\nimport { backendHost } from \"@/assets/js/backend.js\";\r\n\r\nexport default {\r\n  props: {\r\n    contents: Array,\r\n    file: String\r\n  },\r\n  mounted() {\r\n    fetch(backendHost + \"/label\")\r\n      .then(response => response.json())\r\n      //.then(data => console.log(JSON.stringify(data)))\r\n      .then(data => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (data[i].type == \"contextual\") {\r\n            this.chips.push(data[i].label);\r\n          }\r\n        }\r\n      });\r\n  },\r\n  updated() {\r\n    mainHighlighter();\r\n  },\r\n  data() {\r\n    return {\r\n      show: true,\r\n      finalContents: this.contents,\r\n      index: 0,\r\n      indexer: 0,\r\n      tempdata: null,\r\n      tempstring: \"\",\r\n      actualContent: [],\r\n      chips: [],\r\n      items: [\"Streaming\", \"Eating\"],\r\n      selected: [\"John\"],\r\n      counter: 0\r\n    };\r\n  },\r\n  // watch: {\r\n  //   contents(val) {\r\n  //     this.finalContents = val;\r\n  //     this.updateComponent();\r\n  //   }\r\n  // },\r\n  watch: {\r\n    contents: {\r\n      immediate: true,\r\n      handler: function() {\r\n        this.index = 0;\r\n        this.actualContent = [];\r\n        this.parser(this.contents, \"$\");\r\n        this.updateComponent();\r\n      }\r\n    },\r\n    actualContent: function() {\r\n      for (let i = 0; i < this.actualContent.length; i++) {\r\n        axios.post(backendHost + \"/content\", {\r\n          _id: md5(this.actualContent[i]),\r\n          content: this.actualContent[i],\r\n          file_id: this.file\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    updateComponent() {\r\n      var self = this;\r\n      self.show = false;\r\n      this.$nextTick(function() {\r\n        self.show = true;\r\n      });\r\n    },\r\n    remove(item) {\r\n      this.chips.splice(this.chips.indexOf(item), 1);\r\n      this.chips = [...this.chips];\r\n    },\r\n    parser(data, delimiter) {\r\n      this.actualContent = data.split(delimiter);\r\n    },\r\n    submitData() {\r\n      this.index += 1;\r\n      if (this.index === this.actualContent.length - 1) {\r\n        alert(\"Reached end of file\");\r\n        return;\r\n      }\r\n    },\r\n    insertLabel() {\r\n      axios.post(backendHost + \"/label\", {\r\n        label: this.chips[this.chips.length - 1],\r\n        type: \"contextual\"\r\n      });\r\n    },\r\n    getIndex(str, event) {\r\n      //alert(str);\r\n      this.tempdata = event.target.toString();\r\n      //this.indexer = str.indexOf(event.target);\r\n    },\r\n    alertMe(item) {\r\n      //alert(\"hi\" + item + this.counter);\r\n      fetch(backendHost + \"/label\")\r\n        .then(response => response.json())\r\n        //.then(data => console.log(JSON.stringify(data)))\r\n        .then(data => {\r\n          for (let i = 0; i < data.length; i++) {\r\n            if (data[i].type == \"contextual\") {\r\n              if (data[i].label === item) {\r\n                //this.myVarString = data[i].label;\r\n                axios.delete(backendHost + \"/label/\" + data[i]._id);\r\n                //this.myVarId = data[i]._id;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      // .then(\r\n      //   setTimeout(function() {\r\n      //     axios.delete(\"http://localhost:8081/label\" + this.myVarId);\r\n      //     alert(\"succes\");\r\n      //   }, 500)\r\n      // );\r\n    },\r\n    getString(currentLabel) {\r\n      setTimeout(function() {\r\n        fetch(backendHost + \"/text\")\r\n          .then(response => response.json())\r\n          //.then(data => console.log(JSON.stringify(data)))\r\n          .then(data => (this.tempstring = data[data.length - 1].text));\r\n      }, 100);\r\n      setTimeout(function() {\r\n        axios.post(backendHost + \"/labeledcontent\", {\r\n          label: currentLabel,\r\n          type: \"contextual\",\r\n          file_id: this.file,\r\n          content_id: md5(this.tempstring)\r\n        });\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#btn {\r\n  margin: 20px auto;\r\n  display: block;\r\n}\r\n::selection {\r\n  background: aqua;\r\n  color: black;\r\n}\r\n::-moz-selection {\r\n  background: aqua;\r\n  color: black;\r\n}\r\nlabel {\r\n  font-family: \"Open Sans\", Sans;\r\n  font-weight: 100;\r\n  font-size: 36px;\r\n  color: #a0a0a0;\r\n}\r\n.container {\r\n  font-family: \"Open Sans\", Sans;\r\n  font-weight: 100;\r\n  font-size: 18px;\r\n  color: #484850;\r\n  background: #f7f7f7;\r\n  width: 50%;\r\n  padding: 50px;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n}\r\n.caret {\r\n  border-style: solid;\r\n  border-width: 10px 10px 0px 10px;\r\n  border-bottom-color: transparent;\r\n  border-left-color: transparent;\r\n  border-top-color: rgba(117, 117, 117, 0.8);\r\n  border-right-color: transparent;\r\n  width: 0px;\r\n  height: 0px;\r\n  display: block;\r\n  position: absolute;\r\n  top: 53px;\r\n  left: 45%;\r\n}\r\n#highlight_menu {\r\n  font-family: \"Open Sans\", Sans;\r\n  font-weight: 100;\r\n  font-size: 18px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  background: rgba(117, 117, 117, 0.8);\r\n  position: absolute;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -webkit-user-select: none;\r\n}\r\n.highlight_menu_animate {\r\n  transition: top 75ms ease-out, left 75ms ease-out;\r\n}\r\n.side-by-side {\r\n  width: 100%;\r\n  padding: 0;\r\n  margin: 10px;\r\n  margin-top: 14px;\r\n}\r\n.side-by-side li {\r\n  display: inline;\r\n  padding: 10px;\r\n}\r\n</style>"]}]}